@using PKTickets.Models
@model Movie

@{
    string title = "Add Movie";
    if (Model.MovieId > 0)
    {
        title = "Edit Movie";
    }
    //Layout = "~/Views/Shared/_Layout.cshtml";
    string meth = "GoUser()";
    string role = "";
    @if (User.Identity.IsAuthenticated)
    {
        role = User.Identity.GetClaimRole();
    }
}

@if (role == "")
{
    meth = "GoIndex()";
}
<button type="button" class="btn btn-light pb-2"
        style="background-color:lightgoldenrodyellow;" onclick=@meth>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
    </svg>
    Back to List
</button>
<center> <h2 class="text-danger">@title</h2></center>

<style>
    .required:after {
        content: " *";
        color: red;
    }
</style>

@using (Html.BeginForm("Add","Home",FormMethod.Post, new { enctype = "multipart/form-data" }))
{

    <div class="container border rounded bg-light text-dark w-50 pt-2">



        @Html.HiddenFor(x=>x.MovieId, new{@class="form-control"})

        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required">Title</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(x=>x.Title, new {@class="form-control", type="string", required = "required", maxlength = "20"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required"> Duration</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(x=>x.Duration, new {@class="form-control", required = "required",type="number",min="60",max="300"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required"> Director</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(x=>x.Director,new {@class="form-control",required = "required", maxlength = "20"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required">Language</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(x=>x.Language,  new {@class="form-control", required = "required" , maxlength = "20"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required">Cast And Crew</label>
            </div>
            <div class="col-4">
                @Html.TextAreaFor(x=>x.CastAndCrew, new {@class="form-control",required = "required", maxlength = "60"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required">Genre</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(x=>x.Genre, new {@class="form-control",required = "required", maxlength = "20"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <label class="required">Photo Upload</label>
            </div>
            <div class="col-4">
                @Html.TextBoxFor(x=>x.CoverPhoto, new {@class="form-control",required = "required",type="file"})
            </div>
        </div>
        <div class="mb-3 row justify-content-center">
            <div class="col-3">
                <button type="submit" class="btn btn-outline-primary">Submit</button>
            </div>
        </div>
    </div>
}
@section scripts{
    <script src="~/js/createusers.js"></script>
}
